# CSCI0320 Final Project - Dorms @ Brown

## Overview:

-   **_Team Members:_** - Jessica Ni (jni20), Claire Yang (cyang109), Tiger Ji (tji6), Justin Shin (jshin81)
-   **_Total estimated time:_**  - 30 hours
-   **_Link to repository:_** [Link](https://github.com/Dorms-Brown/Dorms-Brown)

### Projection Description

-   The goal of this project is to create a dorm review website for Brown students. Whenever the housing lottery process happens, the main way that students get information on housing we feel is through word of mouth from students that have lived in those dorms before. Therefore, some students have access to certain pieces of information about dorms that other students wouldn’t have. By making this dorm review website, students will be able to read reviews on dorms from Brown in an all-encompassing website that will eliminate the need to depend on word of mouth when choosing dorms.
-   The only thing that we could think of that exists currently are random Reddit threads or other social media avenues, but most of these reviews are either outdated or not relevant to the current classes that go to Brown. Therefore, there is no real solution for this problem at Brown yet.
-   The project that we propose is a dorm review website similar to Courses @ Brown (C@B) where Brown University students sign up for courses called Dorms @ Brown (D@B). Students would be able to write a review on a dorm that they have lived in before and rate the dorm on certain metrics (i.e., cleanliness, facilities, location, etc.). Using these metrics, we can then give an overall “star” rating to these dorms to rank the best dorms at Brown. This website would be better than the existing approach of passing dorm information by word of mouth because it will make sure that everyone is on the same page when it comes to choosing their dorms in the housing lottery. The people that would be impacted would be the students at Brown that are in the housing lottery. All Brown students could use this website to get all dorm related information.
-   What motivated us to make this project when talking as a group was that we agreed that finding information about good dorms was really difficult since the main way to get information about dorms was just from upperclassmen. We thought that having a website that would give us access to information on all of the dorms would ease the stress of the housing lottery to make that process as seamless as possible.

## Design Choices:

### Frontend

-   For the frontend, our main technologies that we used were React.js with Typescript and Tailwind CSS for styling. We chose React.js for our frontend framework of choice because it was very easy to implement components that we could reuse throughout the codebase, and we used Tailwind CSS because we were comfortable with that CSS library for styling.

#### Major Components:

1. **Main:** Our `Main` component was in charge of our main Dorms @ Brown page that would hold all of the other components.
2. **Dorms:** Our `Dorms` component was in charge of loading a particular set of dorms which were separated into three categories: freshman housing, non-freshman housing, and off-campus housing. In order to not make three separate components for these three different categories, we would dynamically load the dorms that we want whenever the user clicks on a particular box. Whenever they click on the box, a query parameter will be passed to our backend which then will load the particular set of dorms that we want. Whenever you click on a particular set of dorms, you will see all of the dorms as well as a filter box on the right hand side which will allow you to filter based off certain criteria such as elevators, doubles/triples, etc. If you check these boxes, they will give you the particular dorms that will have these properties. You should also see a ranking box which will rank the dorms based off their overall star rating, cleanliness rating, facilities rating, or location rating.
3. **Dorm:** Our `Dorm` component is in charge of loading a particular dorm from a set of dorms. The way that we did this was similar to how we loaded a particular set of dorms. Whenever a dorm would be clicked, we would pass a query parameter, which in this case would be the id of the dorm, to the backend to retrieve that particular document from our Firestore database, and then the data of that particular dorm would be loaded. By calling our backend each time a dorm is clicked on to dynamically load our data, we removed the need to make a component for each dorm that would be at Brown which would have been excessive since there are dozens of dorms at Brown. Each dorm will contain the name, the overall star rating of the dorm from the reviews of the dorm (if there are no review, then the default is a star rating of 0), the address of the dorm, a Map button (where if you click on it, it will take you to a map location of the dorm), a picture of the dorm, the amenities of the dorm, the description of the dorm, the cleanliness, facilities, and location star ratings of the dorm, and then the reviews at the bottom of the dorm page. 
4. **OAuth:** Our `OAuth` component was in charge of authenticating a user to add a review to our program. Since we used Firebase as database, it was relatively simple to register a user to our Dorms @ Brown website. On the `Navbar` component at the top of the screen, whenever you click on "Sign In," the user will be prompted to enter a Google account to sign into the website. If the domain of the email address is not specifically `@brown.edu` however, the user will not be registered. This was to allow only Brown users to be able to write a review and not allow possible harmless reviews from outside sources.
5. **Profile:** Our `Profile` component is in charge of showing the profile details of a user once they have successfully authenticated their account by signing in. Once you have signed in, it will say `Hi NAME` in the Navbar where the previous `Sign In` button was located. If you click on that button, it will show your name, email, and the reviews that you have wrote to particular dorms. If you click on the reviews in your profile, it should take you to the particular dorm page that you wrote the review.
6. **Reviews:** Our `Reviews` component is in charge of handling the reviews made by the user. Whenever a user successfully signs in, whenever they navigate to a dorm page, they will see an `Add a Review` button. If they click on that button, a popup will show up that will ask a user to write a review that will have the following categories.
    1. Title: the title of the review from the user
    2. Content: the content of the review from the user
    3. Cleanliness: the overall cleanliness star rating from the user of the dorm.
    4. Facilities: the overall facilities star rating from the user of the dorm. This would account for laundry, elevators, and other amenities. 
    5. Location: the overall location star rating from the user of the dorm. 
If a review doesn't have all of the information filled, then a popup will show up asking for all of the information to be inputted. If all of the information has been filled, the review will upload to the particular dorm. 
### Backend
- For our backend, the main technology that we used was Node.js (Express.js) to make our backend API endpoint calls. We chose this language because since our frontend was already in a Typescript framework (React.js), we thought that the integration between the frontend and the backend would be more seamless if we also used a Javascript backend framework. 
- Our backend endpoints calls include basic API endpoint calls when working with a review website. For example, we had a backend endpoint that would retrieve the list of particular dorms, whether that would be freshman housing, non-freshman housing, or off-campus housing. We had a backend endpoint that would retrieve the data of a particular dorm which would take in the dormtype and the id of the particular dorm. We would have a backend endpoint to update the statistics of a particular dorm, and we had a backend endpoint to delete reviews from our database. 
- Speaking of database, the database that we used to store data was Firebase Firestore which we used to store four different collections: 
    1. freshman-dorms: This collection was in charge of storing the information of all of the freshman dorms. 
    2. non-freshman-dorms: This collection was in charge of storing the information of all of the non-freshman dorms. 
    3. off-campus-housing: This collection was in charge of storing the information of all of the off-campus housing options. 
    4. users: This collection was in charge of storing the information of all of the users that signed up to write a review on the website. 
- Therefore, whenever a review got added to the database, we decided to add the review in two places. First, the review would be added to the particular dorm that the review was meant for. Secondly, the review would also be stored in the users collection. Reviews would be stored as an Array of Maps where the inner Map would contain the different data of the review. Therefore, whenever we want the particular reviews of a dorm, we can just retrieve the reivews array field inside of the particular dorm inside one of the three housing collections. If we wanted the particular reviews that a user wrote, we can just retrieve the array field inside of the user's document inside of the users collection. We thought this would be the best way to store the review data because in order to retrieve the review information from a user, if we didn't store the data inside of a users collection, we would have to loop through all of the reviews inside of all of the dorms. We didn't think this would lead to the best time complexity which is why we were willing to sacrifice some space complexity to speed up the process of retrieving review data. 
- Additionally, the reason why we chose Firebase as our backend of choice instead of other options is because of the added features that are associated with Firebase. The big one for us when developing this application was the added Google Authentication functionality that comes with Firebase which we took advantage of in our Dorms @ Brown website. 
## Errors/Bugs/Future Improvements:
-   No known errors or bugs.
- Future steps could include adding a search bar for dorms, more precise filtering (eg. filtering for non-communal bathrooms), or 
adding off-campus housing data.

## How to...
1. Clone the repository 
2. **Setup Backend:** In order to setup the backend, first `cd` into the `backend` folder and then run `npm install` to install all of the relevant backend dependencies. Then run `npm run dev` to start the local server. If you have `Server has started on port: PORT`, then you successfully started the backend server. 
3. **Setup Frontend:** In order to setup the frontend, `cd` into the `frontend` folder and then also run `npm install` to install all of the relevant frontend dependencies. Then run `npm start` in order to start the application of a local host. If you have the prompt `Starting the development server...`, then you should be all set to run the application. 
